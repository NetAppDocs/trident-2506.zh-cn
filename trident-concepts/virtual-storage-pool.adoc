---
sidebar: sidebar 
permalink: trident-concepts/virtual-storage-pool.html 
keywords: virtual pools, Trident, backends 
summary: 虚拟池在 Trident 的存储后端和 Kubernetes 的 StorageClasses 之间提供了一个抽象层。它们允许管理员以通用的、与后端无关的方式定义每个后端的位置、性能和保护等方面，而无需让 StorageClass 指定要使用哪个物理后端、后端池或后端类型来满足所需的标准。 
---
= 虚拟池
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
虚拟池在Trident存储后端和 Kubernetes 之间提供了一个抽象层。 `StorageClasses` 。它们允许管理员以通用的、与后端无关的方式定义每个后端的各个方面，例如位置、性能和保护，而无需创建单独的配置。 `StorageClass`指定要使用的物理后端、后端池或后端类型，以满足所需条件。



== 了解虚拟泳池

存储管理员可以在任何Trident后端上，通过 JSON 或 YAML 定义文件定义虚拟池。

image::virtual_storage_pools.png[展示了虚拟池的概念图。]

在虚拟池列表之外指定的任何方面对于后端都是全局的，并将应用于所有虚拟池；而每个虚拟池可以单独指定一个或多个方面（覆盖任何后端全局方面）。

[NOTE]
====
* 定义虚拟池时，不要尝试重新排列后端定义中现有虚拟池的顺序。
* 我们不建议修改现有虚拟池的属性。您需要定义一个新的虚拟池来进行更改。


====
大多数方面都是用后端特有的术语来规定的。至关重要的是，这些方面值不会暴露在后端驱动程序之外，也无法用于匹配。 `StorageClasses`相反，管理员可以为每个虚拟池定义一个或多个标签。每个标签都是一个键值对，并且标签可能在不同的后端中是相同的。与方面类似，标签可以针对每个池进行指定，也可以全局指定到后端。与具有预定义名称和值的方面不同，管理员可以完全自主地根据需要定义标签键和值。为了方便起见，存储管理员可以为每个虚拟池定义标签，并按标签对卷进行分组。

可以使用以下字符来定义虚拟池标签：

* 大写字母 `A-Z`
* 小写字母 `a-z`
* 数字 `0-9`
* 下划线 `_`
* 连字符 `-`


一个 `StorageClass`通过引用选择器参数中的标签来确定要使用的虚拟池。虚拟池选择器支持以下运算符：

[cols="14%,34%,52%"]
|===
| 运算符 | 示例 | 池的标签值必须： 


| `=` | 性能=优质 | 匹配 


| `!=` | 性能！=极限 | 不匹配 


| `in` | 位置在（东，西） | 属于价值集合。 


| `notin` | 表演奖（银奖、铜奖） | 不在值集中 


| `<key>` | 保护 | 存在且具有任意值 


| `!<key>` | ！保护 | 不存在 
|===